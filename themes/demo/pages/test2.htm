title = "test2"
url = "/test2/:idx"
layout = "default"
is_hidden = 0
child_of = "mey_no_parent"
hide_crumb = 0
remove_crumb_trail = 0
crumb_disabled = 0

[paymentForm]

[builderDetails]
modelClass = "Jiwon\Byapps\Models\PaymentData"
identifierValue = "{{ :idx }}"
modelKeyColumn = "idx"
displayColumn = "mem_id"
notFoundMessage = "Record not found"
==
<?php
use Jiwon\Byapps\Models\PaymentData;

function onStart()
{
     $this['records'] = PaymentData::where('idx', '=', $this->param('idx'))->first();
     $this['abc'] = "ABC";
    //echo '<br><br><br>';
    //echo $_SERVER['HTTP_REFERER'];
}
function test() {  }
function onTest(){
}
?>
==
{% component 'builderDetails' %}

<!-- The form -->
<!-- <form data-request="onTest" data-request-update="calcresult: '#result'">
    <input type="text" value="15" name="value1">
    <select name="operation">
        <option>+</option>
        <option>-</option>
        <option>*</option>
        <option>/</option>
    </select>
    <input type="text" value="5" name="value2">
    <button type="submit">Calculate</button>
</form>
The result
<div id="result">
    {% partial "calcresult" %}
</div> -->

<div class="container">
  <br /><br /><br />
  <!-- <span id="test">{{ abc }}</span> -->

  <br />
  <h3>{{ record.mem_id }}</h3>
  <br />

  <div class="method">
      <div class="col-md-12 margin-5">
        <div id="example-table"></div>
      </div>
  </div>
</div>

<script>
// var data1 = $('#test').text();
// var arrId = [ 1, 2, 3, 4, 5 ];
// console.log(data1);
var data1 = {{ record.idx|json_encode()|raw }};
var data2 = {{ record.mem_id|json_encode()|raw }};
//console.log(data1);

var tabledata = [
  {id: data1, name: data2 },
];
// var tabledata = [
// {id:1, name: "AAA", age:"12", col:"red", dob:""},
// {id:2, name:"Mary May", age:"1", col:"blue", dob:"14/05/1982"},
// {id:3, name:"Christine Lobowski", age:"42", col:"green", dob:"22/05/1982"},
// {id:4, name:"Brendon Philips", age:"125", col:"orange", dob:"01/08/1980"},
// {id:5, name:"Margret Marmajuke", age:"16", col:"yellow", dob:"31/01/1999"},
// ];

var table = new Tabulator("#example-table", {
 	height:405, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
 	data:tabledata, //assign data to table
 	layout:"fitColumns", //fit columns to width of table (optional)
 	columns:[ //Define Table Columns
    {title:"#", field:"id"},
	 	{title:"Name", field:"name", width:150},
	 	{title:"Age", field:"age", align:"left", formatter:"progress"},
	 	{title:"Favourite Color", field:"col"},
	 	{title:"Date Of Birth", field:"dob", sorter:"date", align:"center"},
 	],
 	rowClick:function(e, row){ //trigger an alert message when the row is clicked
 		alert("Row " + row.getData().id + " Clicked!!!!");
 	},
});
</script>
